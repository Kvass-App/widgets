<!DOCTYPE html>
<html lang="nb">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kvass Web Components</title>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body,
      html {
        height: 100%;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
          Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
          sans-serif;
        max-width: 90%;
        font-size: 16px;
        margin-inline: auto;
        /* display: flex; */
        flex-direction: column;
        gap: 2rem;
        justify-content: center;
        background-color: #eaeaea;
      }

      :root {
        --k-loan-background-color: #202020;
        --k-loan-primary: #e7cfa7;
        --k-loan-cta-alignment: center;
        --k-loan-slider-track-background: rgb(255 255 255 / 0.2);
        --k-loan-border-radius: 0px;

        --_k-directory-items-gap: var(--k-directory-items-gap, 1.5rem);
        --_k-directory-item-grid-gap: var(--k-directory-item-grid-gap, 0.5rem);
        --_k-directory-item-list-gap: var(--k-directory-item-list-gap, 1rem);
        --_k-directory-border-radius: var(
          --k-directory-border-radius,
          var(--border-radius)
        );
        --_k-directory-thumbnail-width: var(
          --k-directory-thumbnail-width,
          50px
        );
        --_k-directory-title-size: var(--k-directory-title-size, 1.5rem);
        --_k-directory-title-weight: var(--k-directory-title-weight, normal);

        --k-button-secondary-text: currentColor;
      }

      kvass-loan-calculator {
        max-width: 400px;
      }
    </style>
  </head>

  <body>
    <h1>test</h1>
    <kvass-form id="form"></kvass-form>
    <script type="module" src="/src/form/main.js"></script>

    <script>
      const form = document.getElementById('form')

      // title: 'Kontaktskjema',
      // id: '67e260f5cbd3f5b0403cdba8',
      // reference: {
      //     onModel: 'Project',
      //     id: '67e17e18b2fec9e0f3b7a187',
      //     name: 'Lysholmen',
      //   },

      form.setAttribute('form-id', '67e41a1c5621726e30ae691f')
      form.setAttribute('account-url', 'https://local.kvass.test')
      form.setAttribute('title', 'Kontaktskjema')
      form.setAttribute(
        'fields',

        JSON.stringify([
          {
            label: 'Velg hva du skal gjøre',
            placeholder: null,
            required: 'yes',
            component: 'radio',
            options: [
              { option: 'Jeg skal registrere salgsdata', key: 'sale-data' },
              {
                option: 'Jeg skalregistrere igangsettingsdata',
                key: 'start-data',
              },
              {
                option: 'Jeg skal regstrere overleveringsdata',
                key: 'handover-data',
              },
            ],
            'lead-placeholder': null,
            key: 'task',
            'hide-label': true,
            size: 'full',
          },
          {
            label: 'Selgers navn',
            placeholder: 'Skriv her...',
            required: 'yes',
            component: 'short-text',
            options: null,
            'lead-placeholder': null,
            size: 'full',
            condition: '{"task":"sale-data"}',
          },
          {
            label: 'Byggleders navn',
            placeholder: 'Skriv her ..',
            required: 'yes',
            component: 'short-text',
            options: null,
            'lead-placeholder': null,
            size: 'full',
            condition: '{"task": {"$ne": "sale-data"}}',
          },
          {
            label: 'Selskap',
            placeholder: null,
            required: null,
            component: 'dropdown',
            options: [{ option: 'Silva bolig' }],
            'lead-placeholder': null,
            size: 'full',
          },
          {
            label: 'Husnavn',
            placeholder: 'Skriv her...',
            required: null,
            component: 'short-text',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Oppføring av bygg',
            placeholder: null,
            required: null,
            component: 'dropdown',
            options: [
              { option: 'EAT' },
              { option: 'FAT' },
              { option: 'Egenregi' },
            ],
            'lead-placeholder': null,
            size: 'half',
          },
          {
            label: 'Hustype',
            placeholder: null,
            required: null,
            component: 'dropdown',
            options: [{ option: 'Enebolig' }, { option: 'Fritidsbolig' }],
            'lead-placeholder': null,
            size: 'half',
          },
          {
            label: 'Antall enheter',
            placeholder: null,
            required: null,
            component: 'number',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Kontraktsdato',
            placeholder: null,
            required: null,
            component: 'date',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Utkjøringsdato',
            placeholder: null,
            required: null,
            component: 'date',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Kontraktsverdi ink. mva',
            placeholder: null,
            required: null,
            component: 'number',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Dekningsbidrag',
            placeholder: 'Skriv her ..',
            required: null,
            component: 'short-text',
            options: null,
            'lead-placeholder': null,
          },
          {
            label: 'Uten feil og mangler',
            placeholder: null,
            required: null,
            component: 'radio',
            options: [{ option: 'Ja' }, { option: 'Nei' }],
            'lead-placeholder': null,
            size: 'full',
          },
        ]),
      )
      form.addEventListener('webcomponent:update', (event) => {
        console.log(event.detail)
      })
    </script>
  </body>
</html>
